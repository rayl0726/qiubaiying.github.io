--- 
layout: post # ʹõĲ֣Ҫģ 
title: javaϣList #  
subtitle: Listܽ # 
date: 2018-06-08 # ʱ 
author: rayl #  
header-img: img/post-bg-2015.jpg #ƪ±ⱳͼƬ 
catalog: true # Ƿ鵵 
tags: #ǩ
    - study
	- Collection
---

# Listӿ
Listӿڼ̳CollectionӿڣListеԪ򣬿ظģΪListĴ洢ṹУڴпٵĴ洢ռģռָҲͶӦԪص
listԪصͨequalsжϣtrueȣListԴһlistiterator()صlistiterator̳iteratorṩǰĹܣͬʱԪ,iteratorֻṩɾԪء
ListҪʵArrayListVectorLinkedList

# ArrayList
ĵײʵ飬Դ洢ݿ԰ңӵ3ֹ
1. ArrayList()һʼΪ10Ŀб
2. ArrayList(Collection<? extends E> c)һָcollectionԪصбЩԪǰոcollectionĵǵ˳еġ
3. ArrayList(int initialCapacity)һָʼĿб

֪ArrayListǿԲóʼȣΪޡԪأֻʵģ
漰arraylistݣ֪ͨĬϵĳʼ10ǳأǲ鿴Դ룺
ִensureCapacityInternal()
'public boolean add(E e) {
        ensureCapacityInternal(size + 1);  // Increments modCount!!
        elementData[size++] = e;
        return true;
}'
ִensureCapacityInternal()clistгȼһ
ΪվͰСΪĬֵһΪ10
'private void ensureCapacityInternal(int minCapacity) {
        if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) {
            minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity);
        }

        ensureExplicitCapacity(minCapacity);
}'

жlistǷΪգΪվͰСΪĬ10СֵٽensureExplicitCapacity();
'private void ensureExplicitCapacity(int minCapacity) {
        modCount++;

        // overflow-conscious code
        if (minCapacity - elementData.length > 0)
            grow(minCapacity);
}'
ȷСlistеݳȳĻǾҪlistˣgrow()

Ƚ1.5仯жǷС㻹ҪĴ洢ȽϣݺhugeCapacity
'private void grow(int minCapacity) {
        // overflow-conscious code
        int oldCapacity = elementData.length;
        int newCapacity = oldCapacity + (oldCapacity >> 1);
        if (newCapacity - minCapacity < 0)
            newCapacity = minCapacity;
        if (newCapacity - MAX_ARRAY_SIZE > 0)
            newCapacity = hugeCapacity(minCapacity);
        // minCapacity is usually close to size, so this is a win:
        elementData = Arrays.copyOf(elementData, newCapacity);
}'
'private static int hugeCapacity(int minCapacity) {
        if (minCapacity < 0) // overflow
            throw new OutOfMemoryError();
        return (minCapacity > MAX_ARRAY_SIZE) ?
            Integer.MAX_VALUE :
            MAX_ARRAY_SIZE;
}'
ݵķʽȰԭlistΪ1.5ʱжݺСǰ߱Ⱥ߻СǾ֤1.5ԣֱµСͿˣ´ԪʱͿ1.5ˣҪжµǷ񳬹listJDK1.8Integer.MAX_VALUE - 8ԭҲ- -|||󣬽hugeCapacity()
жǷΪȻжСĬĴСͷ͵ֵСȾͷĬ
    
arraycopy鸴ƵµelementData = Arrays.copyOf(elementData, newCapacity);
ĲõܶIOӰarraylistʹЧʣӦþʹarraylistԶݣǰ
ArrayListתͨtoArray()ʵʵ Arrays.copyOf()ʵҲֱArraysĺܶ෽ArrayListϾи--̬飻
ArrayList̲߳ȫԣķûͬԿCollections.synchronizedList(),ڳʼʱУ


# Vector
һϹʱ࣬ArrayListһµ̰߳ȫģ⵼ܲArrayListȿĹ
1. Vector()һʼΪ10Ŀб
2. Vector(Collection<? extends E> c)һָcollectionԪصбЩԪǰոcollectionĵǵ˳еġ
3. Vector(int initialCapacity)һָʼĿб
4. Vector(int initialCapacity, int capacityIncrement)һָʼĿб
һԣݵʱԭlistĻϼݺûãVectorԭķArrayListһ£

# LinkedList
ʵList<E>, Deque<E>ӿڣݽṹͲˣ˫ʽṹĺôⲻݣÿڴд洢ʹӡ

췽:
1. LinkedList(): һб
2. LinkedList(Collection<? extends E> c) :һָcollectionеԪصбЩԪذcollectionĵص˳С

ʽṹڲѯʱ鷳ҪͷһһңArrayListֱӰңָλӣɾʱЧʺܸߣֻҪѽڵָıָԪؾͿԣArrayListҪָλ֮ԪضƶλãΪ洢ģҪ䶯
תʱLinkedListԻҪͨʵ֣
Ϊ˫˶УȻһЩеķ룬ȡͷ㣬βڵȵȣ

ָ

2018-06-08